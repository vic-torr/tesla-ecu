{\rtf1\fbidis\ansi\ansicpg1252\deff0\deflang1046\deflangfe1046{\fonttbl{\f0\fscript\fprq2\fcharset0 Comic Sans MS;}{\f1\fnil\fcharset0 MS Sans Serif;}{\f2\froman\fprq2\fcharset0 Times New Roman;}}
\viewkind4\uc1\pard\ltrpar\nowidctlpar\ri3026\lang1033\ul\b\f0\fs17 USER BLOCK FOR LINEAR REFERENCE RAMP
\par (LRAMP)
\par \pard\ltrpar\nowidctlpar\ri3026\tx5812\tx8364\ulnone\b0 
\par \pard\ltrpar\nowidctlpar\ri3026\ul\b General Description:
\par \ulnone\b0 It implements the linear reference ramp according to the
\par programmed acceleration and the deceleration, plus quick
\par deceleration ramp with the option for selecting the normal or 
\par the low deceleration ramp. 
\par It can be used in equipments: PLC1.01, PLC2.00, POS2.00,
\par PLC11-01 and CFW11.
\par  
\par \ul\b Input Parameters:
\par \ulnone Ref (float)\b0  - Normal ramp reference
\par \b RefMax (float)\b0  - Maximum reference value. This value is used as
\par base for defining the ramp acceleration or deceleration rate
\par \b RefSlow (float)\b0  - It defines  a slow reference for the ramp
\par \b Tacc (float)\b0  - Acceleration time  in seconds  from zero to the
\par maximum value (RefMax)
\par \b Tdec (float)\b0  - Deceleration time  in seconds  from the maximum
\par value to zero (RefMax)
\par \b TQuick (float)\b0  - Quick deceleration time  in seconds  from the
\par maximum value to zero (RefMax). This ramp is used as emergency
\par stop and acts jointly the quick stop input (QStop)
\par \b Ts (float*)\b0  - Sampling time in ms for the ramp. Values in the range
\par from 10 to 100 ms can be entered. 
\par \b SelRef (bit)\b0  - It selects the reference that will be adopted for 
\par the ramp. At 0 the normal reference is selected (Ref). At 1 the slow
\par reference is selected (RefSlow)
\par \b EnRamp (bit)\b0  - Condition for enable the ramp according to the
\par selected reference. It is required that the quick stop parameter 
\par (QStop) is set to 0
\par \b QStop (bit)\b0  - Condition for the quick stop. Stop will be according
\par to the deceleration time  programmed at "TQuick", when it is set to
\par 1. When it is set to 0, the ramp can be enabled. 
\par \b Equip (word)\b0  - Selection of the used equipment, as shown below:
\par \tab 0 - PLC1.01, PLC2.00, POS2.00
\par \tab 1 - PLC11-01
\par \tab 2 - CFW11
\par  
\par \ul\b Output Parameters:
\par \ulnone Out (float)\b0  - Reference content after ramp
\par \b Aux_T (float)\b0  - Time auxiliary
\par \b Aux_Ts (float)\b0  - Sampling time auxiliary
\par \b Accel (bit)\b0  - Ramp acceleration condition
\par \b Decel (bit)\b0  - Ramp deceleration condition
\par \b Aux_UB1 (float)\b0  - Internal user block auxiliary
\par \b Aux_UB2 (float)\b0  - Internal user block auxiliary
\par \b Aux_UB3 (float)\b0  - Internal user block auxiliary
\par \b Aux_UB4 (float)\b0  - Internal user block auxiliary
\par \b Aux_UB5 (float)\b0  - Internal user block auxiliary
\par \b Aux_UB6 (word)\b0  - Internal user block auxiliary
\par \b Aux_UB7 (bit)\b0  - Internal user block auxiliary
\par \b Aux_UB8 (bit)\b0  - Internal user block auxiliary
\par 
\par \ul\b Notes:
\par \ulnone 1)\b0  The "Output Parameters" markers must be of \b exclusive use
\par \b0 (they can not be used as destination data in other blocks in the
\par user program), because they can store values that will be used in 
\par next scan for this user block.
\par 
\par \b 2)\b0  \b *\b0  - The value must always higher than the user program scan
\par cycle\b .\b0 
\par 
\par \ul\b Operation:
\par \ulnone\b0 The acceleration and deceleration rates are defines through the
\par equations below:
\par 
\par \lang1046\f1\fs17{\pict\wmetafile8\picw3785\pich1085\picwgoal2146\pichgoal615 
010009000003fb0200000a001c00000000001400000026060f001e00ffffffff04001400000057
6f72640e004d6963726f736f667420576f7264050000000b0200000000050000000c028000bf01
1c000000fb021000070000000000bc02000000000102022253797374656d0000180c664300000a
0026008a0100000000ffffffff80e31300040000002d0100000500000002010100000005000000
0902000000021c000000fb02ceff0000000000009001000000000440001254696d6573204e6577
20526f6d616e00b8a4e777c1a4e7772030e977180c6643040000002d010100030000001e000700
000016048000bf01000000001000000026060f001600ffffffff0000ffffffffffffffffc30100
0081000000030000001e00050000002e0100000000050000000a02000000000500000009020000
0000050000000102ffffff0007000000fc020100000000000000040000002d01020008000000fa
0205000100000000000000040000002d010300040000000301080007000000120480008000bf01
c201050000000b0200000000050000000c028100c2011400000026060f001e00ffffffff040014
000000576f72640e004d6963726f736f667420576f7264050000000c028100c2011c000000fb02
1000070000000000bc02000000000402022253797374656d00007c090a0df4c01300b8a4e777c1
a4e7772030e977180c6643040000002d0104000500000002010100000005000000090200000002
1c000000fb02ceff0000000000009001000000000440001254696d6573204e657720526f6d616e
00b8a4e777c1a4e7772030e977180c6643040000002d010500030000001e00050000000b020000
00000700000016048100c201000000001000000026060f001600ffffffff0000ffffffffffffff
ffc701000082000000030000001e00050000002e0100000000050000000a020000000005000000
090200000000050000000102ffffff00040000002d010200040000002d01030004000000030108
0007000000120481008100c201c601050000000c02e003a00d0500000009020000000005000000
020101000000050000000102ffffff00050000002e0118000000050000000c02e003a00d120000
0026060f001a00ffffffff000010000000c0ffffffb8ffffff600d0000980300000b0000002606
0f000c004d617468547970650000c00008000000fa0200001000000000000000040000002d0106
00050000000b020000000005000000140200023c0405000000130200025c090500000014020002
460a0500000013020002440d1c000000fb0280fe0000000000009001000000000402001054696d
6573204e657720526f6d616e00b8a4e777c1a4e7772030e977180c6643040000002d0107000900
0000320a8c03360a040000003130303008000000320a6e01020b02000000547309000000320a8c
03580504000000546163630a000000320a6e015604060000005265664d617809000000320a6002
3a00030000004163634d1c000000fb0280fe0000000000009001000000020402001053796d626f
6c0000000d0a37f4c01300b8a4e777c1a4e7772030e977180c6643040000002d01080004000000
f001070008000000320a6002a40901000000d76308000000320a6002fe02010000003d630a0000
0026060f000a00ffffffff0100000000001c000000fb021000070000000000bc02000000000402
022253797374656d00009b0a0a4ef4c01300b8a4e777c1a4e7772030e977180c6643040000002d
01070004000000f001080007000000fc020000ffffff000000040000002d01080008000000fa02
00000000000000000000040000002d010900040000002701ffff0800000026060f000600ffffff
ff0100040000002701ffff040000002d01040004000000f001050004000000f001060004000000
f001070007000000fc020000ffffff000000040000002d01050008000000fa0200000000000000
000000040000002d010600040000002701ffff0800000026060f000600ffffffff010004000000
2701ffff0d000000320a5300c2010100040000000000bf01800020001600040000002d01000003
0000000000
}\lang1033\f0\fs17 
\par \lang1046\f1\fs17{\pict\wmetafile8\picw3653\pich1058\picwgoal2071\pichgoal600 
010009000003fb0200000a001c00000000001400000026060f001e00ffffffff04001400000057
6f72640e004d6963726f736f667420576f7264050000000b0200000000050000000c027d00af01
1c000000fb021000070000000000bc02000000000102022253797374656d0000050d66ab00000a
0026008a0100000000ffffffff80e31300040000002d0100000500000002010100000005000000
0902000000021c000000fb02ceff0000000000009001000000000440001254696d6573204e6577
20526f6d616e00b8a4e777c1a4e7772030e977050d66ab040000002d010100030000001e000700
000016047d00af01000000001000000026060f001600ffffffff0000ffffffffffffffffb30100
007e000000030000001e00050000002e0100000000050000000a02000000000500000009020000
0000050000000102ffffff0007000000fc020100000000000000040000002d01020008000000fa
0205000100000000000000040000002d01030004000000030108000700000012047d007d00af01
b201050000000b0200000000050000000c028100c2011400000026060f001e00ffffffff040014
000000576f72640e004d6963726f736f667420576f7264050000000c028100c2011c000000fb02
1000070000000000bc02000000000402022253797374656d0000810c0ae7f4c01300b8a4e777c1
a4e7772030e977050d66ab040000002d0104000500000002010100000005000000090200000002
1c000000fb02ceff0000000000009001000000000440001254696d6573204e657720526f6d616e
00b8a4e777c1a4e7772030e977050d66ab040000002d010500030000001e00050000000b020000
00000700000016048100c201000000001000000026060f001600ffffffff0000ffffffffffffff
ffc701000082000000030000001e00050000002e0100000000050000000a020000000005000000
090200000000050000000102ffffff00040000002d010200040000002d01030004000000030108
0007000000120481008100c201c601050000000c02e003a00d0500000009020000000005000000
020101000000050000000102ffffff00050000002e0118000000050000000c02e003a00d120000
0026060f001a00ffffffff000010000000c0ffffffb8ffffff600d0000980300000b0000002606
0f000c004d617468547970650000c00008000000fa0200001000000000000000040000002d0106
00050000000b020000000005000000140200024204050000001302000262090500000014020002
4c0a05000000130200024a0d1c000000fb0280fe0000000000009001000000000402001054696d
6573204e657720526f6d616e00b8a4e777c1a4e7772030e977050d66ab040000002d0107000900
0000320a8c033c0a040000003130303008000000320a6e01080b02000000547309000000320a8c
03520504000000546465630a000000320a6e015c04060000005265664d617809000000320a6002
3a00030000004465634d1c000000fb0280fe0000000000009001000000020402001053796d626f
6c00007b0b0a0bf4c01300b8a4e777c1a4e7772030e977050d66ab040000002d01080004000000
f001070008000000320a6002aa0901000000d76508000000320a60020403010000003d650a0000
0026060f000a00ffffffff0100000000001c000000fb021000070000000000bc02000000000402
022253797374656d0000330d0ae0f4c01300b8a4e777c1a4e7772030e977050d66ab040000002d
01070004000000f001080007000000fc020000ffffff000000040000002d01080008000000fa02
00000000000000000000040000002d010900040000002701ffff0800000026060f000600ffffff
ff0100040000002701ffff040000002d01040004000000f001050004000000f001060004000000
f001070007000000fc020000ffffff000000040000002d01050008000000fa0200000000000000
000000040000002d010600040000002701ffff0800000026060f000600ffffffff010004000000
2701ffff0d000000320a5000b2010100040000000000af017d0020001600040000002d01000003
0000000000
}\lang1033\f0\fs17 
\par 
\par Please note that the sampling time the rate that will be used  to
\par increment or decrement the reference. Due to this condition the
\par Ts value is limited  from 10 to 100 ms.
\par 
\par \ul\b Example:\ulnone\b0 
\par Configuring the user block as shown below:
\par 
\par \ul Input
\par \ulnone Ref - %MF9000
\par RefMax - 700.0
\par RefSlow - 50.0
\par Tacc - 30.0
\par Tdec - 30.0
\par TQuick - 5.0
\par Ts - 15.0
\par SelRef - %MX1000
\par EnRamp - %MX1001
\par QStop - %MX1002
\par Equip - 0
\par 
\par \ul Output
\par \ulnone Out - %MF9010
\par Aux_T - %MF9011
\par \lang1034 Aux_Ts - %MF9012
\par Accel - %MX1010
\par Decel - %MX1011
\par \lang1033 Aux_UB1 - %MF9174
\par Aux_UB2 - % MF9173
\par Aux_UB3 - %MF9172
\par Aux_UB4 - %M MF9171
\par Aux_UB5 - %MF9170
\par Aux_UB6 - %MW7299
\par Aux_UB7 - %MX3407
\par Aux_UB8 - %MX3406
\par \lang1034 
\par \lang1033 If the logic level is "1" at "EnRamp", and if the logic level is "0" at
\par "QStop", and 450.0 ant the input "Ref", the output "Out" will show
\par the value that is being added (0.35) every 15 ms starting at 0.0
\par and ending at 450.0 after 19.3 seconds.
\par \ul\b ________________________________________________
\par \ulnone WEG S.A.
\par 
\par \b0 Version: 2.00
\par Added the parameters Equip, Aux_UB1, Aux_UB2, Aux_UB3,
\par Aux_UB4, Aux_UB5, Aux_UB6, Aux_UB7 and Aux_UB8 to allow
\par compatibility of the user block with equipment PLC1.01, PLC2.00,
\par POS2.00, PLC11-01 and CFW11.
\par Date: 01/30/2008
\par \b 
\par \b0 Version: 1.00
\par \ul Date: 08/25/2006\b __________________________________\ulnone\b0\f2 
\par }
 