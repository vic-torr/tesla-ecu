(* WEG Ladder Programmer V9.61 *)
(* Copyright (C) 1999-2013 WEG. Todos os direitos reservados. *)

(* ***** LISTA DE INSTRUÇÕES ***** *)

(* PÁGINA 1 *)
#     New Page
(* Leitura de valores de velocidades em km/h *)
(* Velocidade Máxima [km/h] *)
LD    %PM0
ANDN  %PM2
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=1010.00000,
DST:=8002,
Page:=01,
Line:=02,
Column:=03
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8002,
FRAC:=0,
FLOAT:=9002.000000,
Page:=01,
Line:=02,
Column:=07
)
ST    %PM4
LD    %PM1
ANDN  %PM2
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=1011.00000,
DST:=8003,
Page:=01,
Line:=04,
Column:=03
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8003,
FRAC:=0,
FLOAT:=9003.000000,
Page:=01,
Line:=04,
Column:=07
)
ST    %PM4
LD    %PM0
AND   %PM2
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=1028.00000,
DST:=8002,
Page:=01,
Line:=07,
Column:=03
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8002,
FRAC:=0,
FLOAT:=9002.000000,
Page:=01,
Line:=07,
Column:=07
)
ST    %PM4
LD    %PM1
AND   %PM2
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=1029.00000,
DST:=8002,
Page:=01,
Line:=09,
Column:=03
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8002,
FRAC:=0,
FLOAT:=9002.000000,
Page:=01,
Line:=09,
Column:=07
)
ST    %PM4

(* PÁGINA 2 *)
#     New Page
(* Transformar km/h em rpm *)
LD    1
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=DRIVE_PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=124.00000,
DST:=8004,
Page:=02,
Line:=01,
Column:=02
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8004,
FRAC:=0,
FLOAT:=9004.000000,
Page:=02,
Line:=01,
Column:=06
)
ST    %PM4
LD    1
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9004.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=1000.000000,
MODE:=FLOAT_MARKER,
RESULT:=9005,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=02,
Line:=03,
Column:=02
)
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9005.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=6.280000,
MODE:=FLOAT_MARKER,
RESULT:=9006,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=02,
Line:=03,
Column:=06
)
ST    %PM4
LD    1
CAL   TRANSFER
(
OPERATOR:=0,
SRCMODE:=DRIVE_PARAMETER,
DSTMODE:=WORD_MARKER,
SRC:=125.00000,
DST:=8005,
Page:=02,
Line:=06,
Column:=02
)
CAL   INT2FLOAT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8005,
FRAC:=0,
FLOAT:=9007.000000,
Page:=02,
Line:=06,
Column:=06
)
ST    %PM4
LD    1
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9007.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=100.000000,
MODE:=FLOAT_MARKER,
RESULT:=9008,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=02,
Line:=08,
Column:=02
)
ST    %PM4
LD    1
CAL   INT2FLOAT
(
INTMODE:=MACRO_PARAMETER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=3,
FRAC:=0,
FLOAT:=9058.000000,
Page:=02,
Line:=11,
Column:=02
)
ST    %PM4

(* PÁGINA 3 *)
#     New Page
(* Transformar km/h em rpm *)
(* Referência Velocidade - Frente *)
LD    %PM0
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9002.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=3.600000,
MODE:=FLOAT_MARKER,
RESULT:=9009,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=02,
Column:=02
)
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9009.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=60.000000,
MODE:=FLOAT_MARKER,
RESULT:=9010,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=02,
Column:=06
)
ST    %PM4
LD    %PM0
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9010.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOAT_MARKER,
DATA2:=9006.000000,
MODE:=FLOAT_MARKER,
RESULT:=9011,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=05,
Column:=02
)
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9011.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOAT_MARKER,
DATA2:=9008.000000,
MODE:=FLOAT_MARKER,
RESULT:=9012,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=05,
Column:=06
)
ST    %PM4
(* Referência Velocidade - Ré *)
LD    %PM1
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9003.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=3.600000,
MODE:=FLOAT_MARKER,
RESULT:=9009,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=09,
Column:=02
)
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9009.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=60.000000,
MODE:=FLOAT_MARKER,
RESULT:=9010,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=09,
Column:=06
)
ST    %PM4
LD    %PM1
CAL   MATH
(
OPERATOR:=4,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9010.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOAT_MARKER,
DATA2:=9006.000000,
MODE:=FLOAT_MARKER,
RESULT:=9011,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=12,
Column:=02
)
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9011.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOAT_MARKER,
DATA2:=9008.000000,
MODE:=FLOAT_MARKER,
RESULT:=9012,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=03,
Line:=12,
Column:=06
)
ST    %PM4

(* PÁGINA 4 *)
#     New Page
(* Referência de Velocidade RPM *)
LD    1
CAL   MATH
(
OPERATOR:=3,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9012.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOATCTE,
DATA2:=2.000000,
MODE:=FLOAT_MARKER,
RESULT:=9048,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=04,
Line:=01,
Column:=02
)
CAL   FLOAT2INT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8024,
FRAC:=0,
FLOAT:=9048.000000,
Page:=04,
Line:=01,
Column:=06
)
ST    %PM4
LD    1
CAL   MATH
(
OPERATOR:=1,
FORMAT:=1,
MODE:=FLOAT_MARKER,
DATA1:=9049.000000,
MODE:=DISABLE,
DATA1_LOW:=0.000000,
MODE:=FLOAT_MARKER,
DATA2:=9058.000000,
MODE:=FLOAT_MARKER,
RESULT:=9057,
MODE:=DISABLE,
RESULT_LOW:=0,
MODE:=DISABLE,
OVERFLOW:=0,
MODE:=DISABLE,
SIGNAL:=0,
Page:=04,
Line:=04,
Column:=02
)
CAL   FLOAT2INT
(
INTMODE:=WORD_MARKER,
FRACMODE:=CONSTANT,
FLOATMODE:=FLOAT_MARKER,
INTEGER:=8022,
FRAC:=0,
FLOAT:=9057.000000,
Page:=04,
Line:=04,
Column:=06
)
ST    %PM4
LD    1
CAL   SAT
(
FORMAT:=0,
INMODE:=WORD_MARKER,
IN:=8022,
OUTMODE:=MACRO_PARAMETER,
OUT:=16,
MAXMODE:=WORD_MARKER,
MAX:=8024.000000,
MINMODE:=CONSTANT,
MIN:=0.000000,
Page:=04,
Line:=07,
Column:=02
)
ST    %PM4

(* Retorno para o Sistema Operacional *)
RTS
